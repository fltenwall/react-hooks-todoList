{"ast":null,"code":"import _toConsumableArray from \"/Users/fltenwall/Documents/front/\\u5F00\\u6E90\\u9879\\u76EE/\\u81EA\\u5DF1\\u7528react-hooks\\u5B9E\\u73B0\\u7684todoList/react-hooks-todoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/fltenwall/Documents/front/\\u5F00\\u6E90\\u9879\\u76EE/\\u81EA\\u5DF1\\u7528react-hooks\\u5B9E\\u73B0\\u7684todoList/react-hooks-todoList/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nexport default (function (initialValue) {\n  var _useState = useState(initialValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      finishCount = _useState4[0],\n      setFinishCount = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      slectedAll = _useState6[0],\n      setSlectedAll = _useState6[1];\n\n  return {\n    todos: todos,\n    finishCount: finishCount,\n    addTodo: function addTodo(todoText) {\n      setTodos([].concat(_toConsumableArray(todos), [todoText]));\n    },\n    deleteTodo: function deleteTodo(todoIndex) {\n      var newTodos = todos.filter(function (todo, index) {\n        return index !== todoIndex;\n      });\n      setTodos(newTodos);\n      var newTodosFnished = newTodos.filter(function (todo) {\n        return todo.flag === true;\n      });\n      setFinishCount(newTodosFnished.length);\n    },\n    slectAllOrNot: function slectAllOrNot() {\n      todos.forEach(function (todo) {\n        return todo.flag = !slectedAll;\n      });\n      setTodos(todos);\n      setSlectedAll(!slectedAll);\n\n      if (todos.length === 0) {\n        alert(\"çŽ°åœ¨è¿˜æ²¡æœ‰ä»»åŠ¡äº†ï¼Œè¯·å…ˆæ·»åŠ ä»»åŠ¡ï¼\");\n      }\n\n      var newTodos = todos.filter(function (todo) {\n        return todo.flag === true;\n      });\n      setFinishCount(newTodos.length);\n    },\n    deleteSelectedTodo: function deleteSelectedTodo() {\n      var newTodos = todos.filter(function (todo) {\n        return todo.flag === false;\n      });\n      setTodos(newTodos);\n      var newTodosFnished = newTodos.filter(function (todo) {\n        return todo.flag === true;\n      });\n      setFinishCount(newTodosFnished.length);\n      var isFinished = todos.filter(function (todo) {\n        return todo.flag === true;\n      });\n\n      if (isFinished.length === 0) {\n        alert(\"çŽ°åœ¨è¿˜æ²¡æœ‰å·²ç»å®Œæˆçš„ä»»åŠ¡å“¦ðŸ˜¯ï¼\");\n      }\n    },\n    changeTodoFinished: function changeTodoFinished(todoIndex) {\n      todos[todoIndex].flag = !todos[todoIndex].flag;\n      setTodos(todos);\n      var newTodosFnished = todos.filter(function (todo) {\n        return todo.flag === true;\n      });\n      setFinishCount(newTodosFnished.length);\n    }\n  };\n});","map":{"version":3,"sources":["/Users/fltenwall/Documents/front/å¼€æºé¡¹ç›®/è‡ªå·±ç”¨react-hookså®žçŽ°çš„todoList/react-hooks-todoList/src/hooks/useTodoState.js"],"names":["useState","initialValue","todos","setTodos","finishCount","setFinishCount","slectedAll","setSlectedAll","addTodo","todoText","deleteTodo","todoIndex","newTodos","filter","todo","index","newTodosFnished","flag","length","slectAllOrNot","forEach","alert","deleteSelectedTodo","isFinished","changeTodoFinished"],"mappings":"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","sourcesContent":["import { useState } from 'react';\n\nexport default initialValue => {\n  const [todos, setTodos] = useState(initialValue);\n  const [finishCount,setFinishCount]= useState(0);\n  const [slectedAll,setSlectedAll]= useState(false);\n\n  return {\n      todos,\n      finishCount,\n\n    addTodo: todoText => {\n        setTodos([...todos, todoText]);\n    },\n\n    deleteTodo: todoIndex => {\n        const newTodos = todos.filter((todo, index) => index !== todoIndex);\n        setTodos(newTodos);\n\n        const newTodosFnished = newTodos.filter((todo) => todo.flag === true);\n        setFinishCount(newTodosFnished.length);\n\n    },\n\n    slectAllOrNot: () => {\n        todos.forEach((todo) => todo.flag = !slectedAll);\n        setTodos(todos);\n        setSlectedAll(!slectedAll);\n\n        if(todos.length === 0){\n            alert(\"çŽ°åœ¨è¿˜æ²¡æœ‰ä»»åŠ¡äº†ï¼Œè¯·å…ˆæ·»åŠ ä»»åŠ¡ï¼\")\n        }\n\n        const newTodos = todos.filter((todo) => todo.flag === true);\n        setFinishCount(newTodos.length);\n    },\n\n    deleteSelectedTodo: () => {\n        const newTodos = todos.filter((todo) => todo.flag === false);\n        setTodos(newTodos);\n\n        const newTodosFnished = newTodos.filter((todo) => todo.flag === true);\n        setFinishCount(newTodosFnished.length);\n\n        const isFinished = todos.filter((todo) => todo.flag === true);\n        if(isFinished.length === 0){\n          alert(\"çŽ°åœ¨è¿˜æ²¡æœ‰å·²ç»å®Œæˆçš„ä»»åŠ¡å“¦ðŸ˜¯ï¼\")\n        }\n    },\n\n    changeTodoFinished:todoIndex => {\n        todos[todoIndex].flag = !todos[todoIndex].flag;\n        setTodos(todos);\n\n        const newTodosFnished = todos.filter((todo) => todo.flag === true);\n        setFinishCount(newTodosFnished.length);\n    },\n\n  };\n};\n"]},"metadata":{},"sourceType":"module"}